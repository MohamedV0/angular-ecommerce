<!-- FreshCart Header - Following PrimeNG + Tailwind Best Practices -->
<div class="header-container">
  <p-menubar 
    [model]="menuItems()" 
    class="header-menubar">
    
    <!-- Brand/Logo -->
    <ng-template pTemplate="start">
      <a 
        [routerLink]="['/']" 
        class="flex items-center gap-2 cursor-pointer no-underline hover:opacity-90 transition-opacity brand-logo"
        [attr.aria-label]="'Navigate to FreshCart homepage'">
        <i class="pi pi-shopping-cart text-2xl text-white"></i>
        <span class="text-xl font-bold text-white">FreshCart</span>
      </a>
    </ng-template>
    
    <!-- Language Toggle & User Actions -->
    <ng-template pTemplate="end">
      <!-- ✅ Using Tailwind utilities for layout only -->
      <div class="flex items-center gap-3 header-actions">
        
        <!-- Language Toggle Button -->
        <p-button 
          [label]="getCurrentLanguage() === 'en' ? 'العربية' : 'English'" 
          [icon]="'pi pi-globe'"
          severity="secondary"
          [text]="true"
          (click)="toggleLanguage()"
          [attr.aria-label]="'Toggle language to ' + (getCurrentLanguage() === 'en' ? 'Arabic' : 'English')"
          styleClass="language-toggle-btn">
        </p-button>
        
        <!-- Authentication Buttons -->
        @if (isAuthenticated()) {
          <!-- Authenticated User Dropdown -->
          <p-button 
            [icon]="'pi pi-user'"
            severity="secondary" 
            [text]="true"
            [label]="getCurrentUserName() || 'User'"
            (click)="userMenu.toggle($event)"
            styleClass="user-name-btn">
          </p-button>
          
          <!-- User Dropdown Menu -->
          <p-menu 
            #userMenu
            [model]="userMenuItems()"
            [popup]="true"
            styleClass="user-dropdown-menu">
          </p-menu>
        } @else {
          <!-- Guest User Actions -->
          <p-button 
            [icon]="'pi pi-sign-in'"
            severity="secondary" 
            [text]="true"
            [label]="'AUTH.HEADER_LOGIN' | translate"
            (click)="navigateToLogin()"
            [attr.aria-label]="'AUTH.ARIA_LOGIN' | translate"
            styleClass="login-btn">
          </p-button>
          
          <p-button 
            [icon]="'pi pi-user-plus'"
            severity="success" 
            [text]="true"
            [label]="'AUTH.HEADER_REGISTER' | translate"
            (click)="navigateToRegister()"
            [attr.aria-label]="'AUTH.ARIA_REGISTER' | translate"
            styleClass="register-btn">
          </p-button>
        }
        
      </div>
    </ng-template>
  </p-menubar>
</div>
