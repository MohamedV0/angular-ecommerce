<!-- FreshCart Header - Following PrimeNG + Tailwind Best Practices -->
<!-- ✅ Let PrimeNG handle theme-aware styling naturally -->
<p-menubar 
  [model]="menuItems()" 
  styleClass="shadow-md">
  
  <!-- Brand/Logo -->
  <ng-template pTemplate="start">
    <a 
      [routerLink]="['/']" 
      class="flex items-center gap-2 cursor-pointer no-underline hover:opacity-90 transition-opacity"
      [attr.aria-label]="'Navigate to FreshCart homepage'">
      <i class="pi pi-shopping-cart text-2xl text-primary"></i>
      <span class="text-xl font-bold text-color">FreshCart</span>
    </a>
  </ng-template>
    
    <!-- Language Toggle & User Actions -->
    <ng-template pTemplate="end">
      <!-- ✅ Using Tailwind utilities for layout only -->
      <div class="flex items-center gap-3">
        
        <!-- Language Toggle Button -->
        <p-button 
          [label]="getCurrentLanguage() === 'en' ? 'العربية' : 'English'" 
          [icon]="'pi pi-globe'"
          severity="secondary"
          [text]="true"
          (click)="toggleLanguage()"
          [attr.aria-label]="'Toggle language to ' + (getCurrentLanguage() === 'en' ? 'Arabic' : 'English')">
        </p-button>
        
        <!-- Authentication Buttons -->
        @if (isAuthenticated()) {
          <!-- Authenticated User Dropdown -->
          <!-- Mobile: Show first name only -->
          <p-button 
            [icon]="'pi pi-user'"
            severity="primary" 
            [text]="true"
            [label]="getFirstName() || 'User'"
            (click)="userMenu.toggle($event)"
            styleClass="md:!hidden">
          </p-button>
          
          <!-- Desktop: Show full name -->
          <p-button 
            [icon]="'pi pi-user'"
            severity="primary" 
            [text]="true"
            [label]="getCurrentUserName() || 'User'"
            (click)="userMenu.toggle($event)"
            styleClass="!hidden md:!inline-flex">
          </p-button>
          
          <!-- User Dropdown Menu -->
          <p-menu 
            #userMenu
            [model]="userMenuItems()"
            [popup]="true"
            styleClass="user-dropdown-menu">
          </p-menu>
        } @else {
          <!-- Guest User Actions -->
          <p-button 
            [icon]="'pi pi-sign-in'"
            severity="primary" 
            [text]="true"
            [label]="'AUTH.HEADER_LOGIN' | translate"
            (click)="navigateToLogin()"
            [attr.aria-label]="'AUTH.ARIA_LOGIN' | translate">
          </p-button>
          
          <p-button 
            [icon]="'pi pi-user-plus'"
            severity="primary" 
            [text]="true"
            [label]="'AUTH.HEADER_REGISTER' | translate"
            (click)="navigateToRegister()"
            [attr.aria-label]="'AUTH.ARIA_REGISTER' | translate">
          </p-button>
        }
        
      </div>
    </ng-template>
</p-menubar>
